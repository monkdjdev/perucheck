---
const RESTRICCIONES: Record<number, number[]> = {
  1: [1, 2],
  2: [3, 4],
  3: [5, 6],
  4: [7, 8],
  5: [9, 0],
};

const DIAS = ['Lunes', 'Martes', 'Miercoles', 'Jueves', 'Viernes'];
const diaHoy = new Date().getDay();
---

<div class="bg-white rounded-2xl border border-[var(--color-border)] p-6 hover:shadow-sm transition-shadow">
  <div class="flex items-center gap-2 mb-5">
    <div class="w-8 h-8 rounded-lg bg-amber-50 flex items-center justify-center">
      <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-amber-600" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <rect x="3" y="4" width="18" height="18" rx="2" ry="2" />
        <line x1="16" y1="2" x2="16" y2="6" />
        <line x1="8" y1="2" x2="8" y2="6" />
        <line x1="3" y1="10" x2="21" y2="10" />
      </svg>
    </div>
    <h2 class="text-lg font-bold">Calendario Semanal</h2>
  </div>

  <div class="space-y-2.5">
    {DIAS.map((dia, idx) => {
      const diaNum = idx + 1;
      const placas = RESTRICCIONES[diaNum];
      const esHoy = diaNum === diaHoy;

      return (
        <div class={`flex items-center justify-between p-3.5 rounded-xl transition-all ${esHoy ? 'bg-amber-50 border border-amber-200 shadow-sm' : 'bg-[var(--color-surface-alt)] hover:bg-slate-100'}`}>
          <div class="flex items-center gap-3">
            {esHoy && <span class="w-2 h-2 rounded-full bg-amber-500 animate-pulse"></span>}
            <span class={`font-medium ${esHoy ? 'text-amber-800' : 'text-[var(--color-text)]'}`}>
              {dia} {esHoy && <span class="text-xs font-normal text-amber-600">(Hoy)</span>}
            </span>
          </div>
          <div class="flex gap-2">
            {placas.map(num => (
              <span class={`inline-flex items-center justify-center w-9 h-9 rounded-xl text-sm font-bold transition-transform ${esHoy ? 'bg-amber-500 text-white shadow-sm shadow-amber-200' : 'bg-white border border-[var(--color-border)] text-[var(--color-text)]'}`}>
                {num}
              </span>
            ))}
          </div>
        </div>
      );
    })}
  </div>

  <div class="mt-4 p-4 bg-[var(--color-surface-alt)] rounded-xl">
    <div class="flex items-start gap-2">
      <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-[var(--color-text-muted)] shrink-0 mt-0.5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="12" cy="12" r="10" />
        <polyline points="12 6 12 12 16 14" />
      </svg>
      <p class="text-xs text-[var(--color-text-muted)]">
        <strong>Horario:</strong> Lunes a Viernes de 6:30 a.m. a 10:00 a.m. y de 5:00 p.m. a 9:00 p.m.
        Sabados, domingos y feriados no hay restriccion.
      </p>
    </div>
  </div>
</div>
